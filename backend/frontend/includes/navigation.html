<!-- VidPOD Unified Navigation Component V2 - FIXED -->
<!-- Include this file in all pages for consistent navigation -->
<!-- DEPLOYMENT VERSION: 2025-08-20-FINAL-COMPLETE-AMITRACE-ADMIN-FIXES -->

<nav class="vidpod-navbar" id="vidpodNavbar">
    <div class="navbar-container">
        <!-- Brand -->
        <a href="/dashboard.html" class="navbar-brand">
            <span class="logo-emoji">📻</span>
            <span>VidPOD</span>
        </a>

        <!-- Main Navigation -->
        <div class="navbar-nav" id="mainNav">
            <a href="/dashboard.html" class="nav-item" data-page="dashboard">
                <span class="icon">🏠</span>
                <span>Dashboard</span>
            </a>
            <a href="/stories.html" class="nav-item" data-page="stories">
                <span class="icon">📚</span>
                <span>Browse Stories</span>
            </a>
            <a href="/add-story.html" class="nav-item" data-page="add-story">
                <span class="icon">✏️</span>
                <span>Add Story</span>
            </a>
            <!-- Teacher/Admin only - FIXED FOR AMITRACE_ADMIN -->
            <a href="/teacher-dashboard.html" class="nav-item" data-page="teacher-dashboard" data-role="teacher,admin,amitrace_admin">
                <span class="icon">🎓</span>
                <span>My Classes</span>
                <span class="badge" id="classBadge"></span>
            </a>
            <!-- Admin only - FIXED FOR AMITRACE_ADMIN -->
            <a href="/admin-browse-stories.html" class="nav-item" data-page="admin-browse-stories" data-role="admin,amitrace_admin">
                <span class="icon">🏛️</span>
                <span>Admin Browse Stories</span>
            </a>
            <a href="/admin.html" class="nav-item" data-page="admin" data-role="admin,amitrace_admin">
                <span class="icon">⚙️</span>
                <span>Admin Panel</span>
            </a>
        </div>

        <!-- Mobile Menu Toggle (hidden on desktop) -->
        <button class="mobile-toggle" id="mobileToggle">
            <span>☰</span>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-section">
            <h4>Navigation</h4>
            <div class="mobile-nav">
                <a href="/dashboard.html" class="nav-item" data-page="dashboard">
                    <span class="icon">🏠</span>
                    <span>Dashboard</span>
                </a>
                <a href="/stories.html" class="nav-item" data-page="stories">
                    <span class="icon">📚</span>
                    <span>Browse Stories</span>
                </a>
                <a href="/add-story.html" class="nav-item" data-page="add-story">
                    <span class="icon">✏️</span>
                    <span>Add Story</span>
                </a>
                <!-- Teacher/Admin only - FIXED FOR AMITRACE_ADMIN -->
                <a href="/teacher-dashboard.html" class="nav-item" data-page="teacher-dashboard" data-role="teacher,admin,amitrace_admin">
                    <span class="icon">🎓</span>
                    <span>My Classes</span>
                </a>
                <!-- Admin only - FIXED FOR AMITRACE_ADMIN -->
                <a href="/admin-browse-stories.html" class="nav-item" data-page="admin-browse-stories" data-role="admin,amitrace_admin">
                    <span class="icon">🏛️</span>
                    <span>Admin Browse Stories</span>
                </a>
                <a href="/admin.html" class="nav-item" data-page="admin" data-role="admin,amitrace_admin">
                    <span class="icon">⚙️</span>
                    <span>Admin Panel</span>
                </a>
            </div>
        </div>
        <div class="mobile-section">
            <h4>Actions</h4>
            <div class="mobile-nav">
                <a href="#" class="nav-item" onclick="VidPODNav.handleLogout()">
                    <span class="icon">🚪</span>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Clean Navigation Layout CSS -->
<style>
/* Clean single-line navigation layout */
.vidpod-navbar {
    background: #ffffff !important;
    border-bottom: 1px solid #e5e7eb !important;
    box-shadow: none !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 100 !important;
    width: 100% !important;
}

.navbar-container {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 1.5rem !important;
    display: flex !important;
    align-items: center !important;
    height: 56px !important;
    min-height: 56px !important;
    justify-content: flex-start !important;
}

.navbar-brand {
    display: flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    color: #f97316 !important;
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    text-decoration: none !important;
    margin-right: 1.5rem !important;
    flex-shrink: 0 !important;
}

.navbar-brand .logo-emoji {
    font-size: 1.25rem !important;
}

.navbar-nav {
    display: flex !important;
    align-items: center !important;
    gap: 0 !important;
    flex: 1 !important;
}

.nav-item {
    display: flex !important;
    align-items: center !important;
    gap: 0.375rem !important;
    padding: 0.5rem 1rem !important;
    text-decoration: none !important;
    color: #6b7280 !important;
    border-radius: 6px !important;
    transition: all 0.15s ease !important;
    font-weight: 500 !important;
    font-size: 0.875rem !important;
    white-space: nowrap !important;
    position: relative !important;
}

.nav-item:hover {
    background: #f3f4f6 !important;
    color: #374151 !important;
}

.nav-item.active {
    background: #fff7ed !important;
    color: #f97316 !important;
    font-weight: 600 !important;
}

.nav-item .icon {
    font-size: 1rem !important;
}

.nav-item .badge {
    background: #f97316 !important;
    color: white !important;
    font-size: 0.625rem !important;
    padding: 0.125rem 0.375rem !important;
    border-radius: 10px !important;
    margin-left: 0.25rem !important;
    min-width: 16px !important;
    text-align: center !important;
    font-weight: 600 !important;
}

/* Hide user actions for clean layout */
.navbar-actions {
    display: none !important;
}

.navbar-secondary {
    display: none !important;
}

.navbar-user {
    display: none !important;
}

.logout-btn {
    display: none !important;
}

/* Mobile elements */
@media (min-width: 769px) {
    .mobile-menu {
        display: none !important;
        visibility: hidden !important;
    }
    .mobile-toggle {
        display: none !important;
        visibility: hidden !important;
    }
}
</style>

<!-- Hotfix script to immediately hide mobile elements on desktop -->
<script src="/js/navigation-hotfix.js"></script>