<!-- VidPOD Unified Navigation Component V2 - FIXED -->
<!-- Include this file in all pages for consistent navigation -->
<!-- DEPLOYMENT VERSION: 2025-08-20-FINAL-COMPLETE-AMITRACE-ADMIN-FIXES -->

<nav class="vidpod-navbar" id="vidpodNavbar">
    <div class="navbar-container">
        <!-- Brand -->
        <a href="/dashboard.html" class="navbar-brand">
            <span class="logo-emoji">ğŸ“»</span>
            <span>VidPOD</span>
        </a>

        <!-- Main Navigation -->
        <div class="navbar-nav" id="mainNav">
            <a href="/dashboard.html" class="nav-item" data-page="dashboard">
                <span class="icon">ğŸ </span>
                <span>Dashboard</span>
            </a>
            <a href="/stories.html" class="nav-item" data-page="stories">
                <span class="icon">ğŸ“š</span>
                <span>Browse Stories</span>
            </a>
            <a href="/add-story.html" class="nav-item" data-page="add-story">
                <span class="icon">âœï¸</span>
                <span>Add Story</span>
            </a>
            <!-- Teacher/Admin only - FIXED FOR AMITRACE_ADMIN -->
            <a href="/teacher-dashboard.html" class="nav-item" data-page="teacher-dashboard" data-role="teacher,admin,amitrace_admin">
                <span class="icon">ğŸ“</span>
                <span>My Classes</span>
                <span class="badge" id="classBadge"></span>
            </a>
            <!-- Admin only - FIXED FOR AMITRACE_ADMIN -->
            <a href="/admin-browse-stories.html" class="nav-item" data-page="admin-browse-stories" data-role="admin,amitrace_admin">
                <span class="icon">ğŸ›ï¸</span>
                <span>Admin Browse Stories</span>
            </a>
            <a href="/admin.html" class="nav-item" data-page="admin" data-role="admin,amitrace_admin">
                <span class="icon">âš™ï¸</span>
                <span>Admin Panel</span>
            </a>
        </div>

        <!-- Actions & User Info -->
        <div class="navbar-actions">
            <!-- Secondary Actions -->
            <div class="navbar-secondary">
                <a href="/add-story.html" class="action-btn primary">
                    <span>â•</span>
                    <span>Quick Add</span>
                </a>
            </div>

            <!-- User Info -->
            <div class="navbar-user" id="userSection">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-role student" id="userRole">Student</div>
                </div>
            </div>

            <!-- Logout -->
            <button class="logout-btn" onclick="VidPODNav.handleLogout()" title="Logout">
                <span>ğŸšª</span>
            </button>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="mobileToggle">
                <span>â˜°</span>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-section">
            <h4>Navigation</h4>
            <div class="mobile-nav">
                <a href="/dashboard.html" class="nav-item" data-page="dashboard">
                    <span class="icon">ğŸ </span>
                    <span>Dashboard</span>
                </a>
                <a href="/stories.html" class="nav-item" data-page="stories">
                    <span class="icon">ğŸ“š</span>
                    <span>Browse Stories</span>
                </a>
                <a href="/add-story.html" class="nav-item" data-page="add-story">
                    <span class="icon">âœï¸</span>
                    <span>Add Story</span>
                </a>
                <!-- Teacher/Admin only - FIXED FOR AMITRACE_ADMIN -->
                <a href="/teacher-dashboard.html" class="nav-item" data-page="teacher-dashboard" data-role="teacher,admin,amitrace_admin">
                    <span class="icon">ğŸ“</span>
                    <span>My Classes</span>
                </a>
                <!-- Admin only - FIXED FOR AMITRACE_ADMIN -->
                <a href="/admin-browse-stories.html" class="nav-item" data-page="admin-browse-stories" data-role="admin,amitrace_admin">
                    <span class="icon">ğŸ›ï¸</span>
                    <span>Admin Browse Stories</span>
                </a>
                <a href="/admin.html" class="nav-item" data-page="admin" data-role="admin,amitrace_admin">
                    <span class="icon">âš™ï¸</span>
                    <span>Admin Panel</span>
                </a>
            </div>
        </div>
        <div class="mobile-section">
            <h4>Actions</h4>
            <div class="mobile-nav">
                <a href="#" class="nav-item" onclick="VidPODNav.handleLogout()">
                    <span class="icon">ğŸšª</span>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Hotfix CSS to immediately hide mobile elements on desktop -->
<style>
@media (min-width: 769px) {
    .mobile-menu {
        display: none !important;
        visibility: hidden !important;
    }
    .mobile-toggle {
        display: none !important;
        visibility: hidden !important;
    }
}
</style>

<!-- Hotfix script to immediately hide mobile elements on desktop -->
<script src="/js/navigation-hotfix.js"></script>