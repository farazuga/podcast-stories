<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VidPOD - Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <h1>üìª VidPOD</h1>
        </div>
        <div class="nav-menu">
            <a href="/dashboard.html" class="active">Dashboard</a>
            <a href="/stories.html">Browse Stories</a>
            <a href="/add-story.html">Add Story</a>
            <a href="/teacher-dashboard.html" id="teacherLink" style="display: none;">My Classes</a>
            <a href="/admin.html" id="adminLink" style="display: none;">Admin Panel</a>
        </div>
        <div class="nav-user">
            <span id="userInfo"></span>
            <span id="userRoleBadge" class="role-badge"></span>
            <button class="btn btn-logout" onclick="logout()">Logout</button>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
            <h1>üè† Welcome to VidPOD</h1>
            <p id="welcomeMessage">Welcome back! Here's your personalized dashboard.</p>
        </div>

        <!-- Dashboard Overview -->
        <div class="dashboard-overview">
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-content">
                        <h3 id="myStoriesCount">0</h3>
                        <p>My Stories</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚ù§Ô∏è</div>
                    <div class="stat-content">
                        <h3 id="myFavoritesCount">0</h3>
                        <p>My Favorites</p>
                    </div>
                </div>
                
                <div class="stat-card" id="classStatsCard" style="display: none;">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <h3 id="myClassesCount">0</h3>
                        <p>My Classes</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üìö</div>
                    <div class="stat-content">
                        <h3 id="totalStoriesCount">0</h3>
                        <p>Total Stories Available</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <h2>üöÄ Quick Actions</h2>
            <div class="action-cards">
                <a href="/add-story.html" class="action-card">
                    <div class="action-icon">‚úçÔ∏è</div>
                    <h3>Create New Story</h3>
                    <p>Start a new podcast story idea</p>
                </a>
                
                <a href="/stories.html" class="action-card">
                    <div class="action-icon">üîç</div>
                    <h3>Browse Stories</h3>
                    <p>Explore all available stories</p>
                </a>
                
                <div class="action-card" id="myStoriesAction" onclick="viewMyStories()">
                    <div class="action-icon">üìã</div>
                    <h3>My Stories</h3>
                    <p>View and manage your stories</p>
                </div>
                
                <div class="action-card" id="favoritesAction" onclick="viewFavorites()">
                    <div class="action-icon">‚≠ê</div>
                    <h3>Favorites</h3>
                    <p>View your favorite stories</p>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="recent-activity">
            <h2>üìà Recent Activity</h2>
            <div class="activity-sections">
                <!-- My Recent Stories -->
                <div class="activity-section">
                    <h3>üìù My Recent Stories</h3>
                    <div id="myRecentStories" class="activity-list">
                        <div class="loading">Loading...</div>
                    </div>
                </div>
                
                <!-- Recent Favorites -->
                <div class="activity-section">
                    <h3>‚ù§Ô∏è Recently Favorited</h3>
                    <div id="recentFavorites" class="activity-list">
                        <div class="loading">Loading...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Role-specific Content -->
        <div id="roleSpecificContent">
            <!-- Content will be loaded based on user role -->
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/dashboard-new.js"></script>
</body>
</html>